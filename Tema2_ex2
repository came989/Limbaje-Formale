def generate_strings(iterations):
    # Regulile de producție
    productions = {
        'S': ['aSa', 'bSb', 'a', 'b', '']
    }

    # Funcție pentru derivarea șirurilor
    def derive(symbol, depth):
        if depth == 0:
            return [symbol]

        result = []
        for production in productions[symbol]:
            for derived_symbol in production:
                result.extend(derive(derived_symbol, depth - 1))
        return result

    # Iterăm și generăm șirurile pentru fiecare iterație
    for i in range(1, iterations + 1):
        print(f"Iterația {i}:")
        strings = derive('S', i)
        for string in strings:
            if string:
                print(string)
        print()

# Apelăm funcția pentru a genera șirurile pentru trei iterații
generate_strings(3)
