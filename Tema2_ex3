def generate_strings(grammar, start_symbol, max_length):
    def derive(symbol, current_string):
        if len(current_string) == max_length:
            print(current_string)
            return

        if symbol not in grammar:
            return

        for production in grammar[symbol]:
            for derived_symbol in production:
                derive(derived_symbol, current_string + derived_symbol)

    derive(start_symbol, '')

grammar = {
    'S': ['AB'],
    'A': ['aA', ''],
    'B': ['bB', '']
}

print("Șirurile de lungime maximă formate din literele 'a' și 'b':")
generate_strings(grammar, 'S', 5)
